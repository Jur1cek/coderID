<!doctype html>
<html>
	<head>
		<title>Charging Chaos</title>
		<style>
			#title { float: left; width:50% }
			#input, #output { width:49%; height:200px }
		</style>
		<script>
            function compare(a, b) {
                for(var i = 0; i < a.length; i++) {
                    if(a[i] != b[i]) return false;
                }
                return true;
            }
			function main(str) {
				var line = 1, des = [];
				var tc = Number(str[0]);
				var i, line = 1, j, k, change, tmp;
				for(i = 1; i <= tc; i++) {
                    change = 0;
                    tmp = str[line++].split(' ');
                    var n = Number(tmp[0]);
                    var l = Number(tmp[1]);
                    var start = str[line++].split(' ');
                    start = start.map(function(ar) {
                        return parseInt(ar, 2);
                    });
                    var need = str[line++].split(' ');
                    need = need.map(function(ar) {
                        return parseInt(ar, 2);
                    });
                    need.sort(function(a, b) {
                        return Number(a) - Number(b);
                    });
                    var allbit = Math.pow(2, l)
                    for(j = 0; j < allbit; j++) {
                        var tmp = start.map(function(ar) {
                            return Number(ar) ^ j;
                        });
                        tmp.sort(function(a, b) {
                            return Number(a) - Number(b);
                        });
                        if(compare(need, tmp)) {
                            var bit = j.toString(2);
                            for(k = 0; k < bit.length; k++) {
                                if(bit.charAt(k) == '1') change++;
                            }
                            break;
                        }
                    }
                    des.push('Case #' + i + ': ' + (j == allbit ? 
                        'NOT POSSIBLE' : change));
				}
				return des.join('\n');
			}
			function init() {
				var src = document.getElementById('input').value;
				var str = src.split('\n');
				var start = new Date();
				document.getElementById('output').value = main(str);
				document.getElementById('timer').innerHTML = 
					'running time: ' + ((new Date()).getTime() -
					start.getTime()) + ' ms';
			}
		</script>
	</head>
	<body>
		<div id="title">input:</div>
		<div>output:</div>
		<textarea id="input"></textarea>
		<textarea id="output"></textarea>
		<button type="submit" onclick="init()">run</button>
		<span id="timer"></span>
	</body>
</html>